<nav class="topnav">
  <a href="/">Welcome</a>
  <a href="/articles">Articles</a>
  <a href="/produits">Produits</a>
  <a href="/taches">Tâches</a>
  <a href="/etudiants">Étudiants</a>
</nav>
<section class="card">
  <h2>Tâches</h2>

  <div class="add">
    <input [(ngModel)]="newDescription" placeholder="Nouvelle tâche" />
    <select [(ngModel)]="newPriority">
      <option value="haute">Haute</option>
      <option value="moyenne">Moyenne</option>
      <option value="basse">Basse</option>
    </select>
    <button (click)="addTache()">Ajouter</button>
  </div>

  <div *ngIf="taches.length; else none">
    <ul class="taches">
      <li *ngFor="let t of taches"
          [class.completed]="t.completed"
          [ngStyle]="{'color': t.priority === 'haute' ? 'red' : (t.priority === 'moyenne' ? 'orange' : 'green') }">
        <label>
          <input type="checkbox" [checked]="t.completed" (change)="toggleCompleted(t)" />
          <span [ngClass]="{'strike': t.completed}">{{t.description}}</span>
        </label>
        <small class="prio">{{t.priority}}</small>
      </li>
    </ul>
  </div>

  <ng-template #none>
    <p>Aucune tâche à afficher</p>
  </ng-template>
</section>
